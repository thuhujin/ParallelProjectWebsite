<!DOCTYPE HTML>
<!--
	Strongly Typed by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>
	<head>
		<title>Parallelization of Computational Fluid Dynamic Simulation of Data Center Air-Conditioning System</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<!--[if lte IE 8]><script src="assets/js/ie/html5shiv.js"></script><![endif]-->
		<link rel="stylesheet" href="assets/css/main.css" />
		<!--[if lte IE 8]><link rel="stylesheet" href="assets/css/ie8.css" /><![endif]-->
	</head>
	<body class="no-sidebar">
		<div id="page-wrapper">

			<!-- Header -->
				<div id="header-wrapper">
					<div id="header" class="container">

						<!-- Logo -->
							<h1 id="logo"><a href="index.html">Project Proposal</a></h1>
							<p>Jin Hu(jinh), Siliang Lu(siliang1)</p>

						<!-- Nav -->
							<nav id="nav">
								<ul>
									<li><a class="icon fa-home" href="index.html"><span>Proposal</span></a></li>
									<!-- <li>
										<a href="#" class="icon fa-bar-chart-o"><span>Dropdown</span></a>
										<ul>
											<li><a href="#">Lorem ipsum dolor</a></li>
											<li><a href="#">Magna phasellus</a></li>
											<li><a href="#">Etiam dolore nisl</a></li>
											<li>
												<a href="#">Phasellus consequat</a>
												<ul>
													<li><a href="#">Magna phasellus</a></li>
													<li><a href="#">Etiam dolore nisl</a></li>
													<li><a href="#">Phasellus consequat</a></li>
												</ul>
											</li>
											<li><a href="#">Veroeros feugiat</a></li>
										</ul>
									</li> -->
									<li><a class="icon fa-cog" href="#"><span>Checkpoint</span></a></li>
									<li><a class="icon fa-retweet" href="#"><span>Summary</span></a></li>
								</ul>
							</nav>

					</div>
				</div>

			<!-- Main -->
				<div id="main-wrapper">
					<div id="main" class="container">
						<div id="content">

							<!-- Post -->
								<article class="box post">
									<header>
										<!-- <h2>Behold! This is the <strong>no sidebar</strong> layout<br />
										with no sidebar at all!</h2> -->
										<h2 align="center">Parallelization of CFD on DCAC System</h2>
									</header>
									<span class="image featured"><img src="images/cover.jpg" alt="" /></span>
									<h3>Summary</h3>
									<p>
										We are going to implement a 2D CFD solver to simulate airflow patterns of a Data Center Air-Conditioning System with MPI model. 
									</p>
									
									<h3>Background</h3>
									<p>
										Data centers nowadays require cooling all year round due to high power density of each rack as well as large quantity of servers. To reduce energy consumption and save costs, many effective computer room air conditioning (CRAC) systems are designed for optimizing the cooling performance as well as the amount of energy savings.
									</p>
									<p>
										In order to detect the potential problem due to bad air flow design, computational fluid dynamic (CFD) simulation is necessary. Our 2D Navier-Stokes solver is aimed to predict the interior air flow patterns and temperature distribution with different inlet velocities and validate the results with Ansys. The simulation results can be used to help CRAC system designers to identify better CRAC configurations.
									</p>
									
									<h4>Simulation Algorithm</h4>
									<p>
										The simulation begins with geometry, boundary type and simulation control parameter input. To avoid serious oscillations of pressure value, a staggered grid mesh is then generated . The main time-stepping simulation loop starts after initialization. An adaptive time step is calculated for stability purpose. Boundary values of the matrices of x-velocity (U), y-velocity (V) is updated at each time step n. Then the values of temperature (T) at each cell in fluid domain at (n+1) time step is solved. With that, a linear system of pressure values (P) is solved with Poisson solver with successive over-relaxation (SOR). With pressure values (P) at (n+1) time step, x-velocity (U) and y-velocity at (n+1) time step can be solved. Simulation time and step are updated after each main iteration. The whole simulation terminates when simulation time is greater or equals to desired end time. The algorithm is shown in the flowchart.
									</p>
									<span><img src="images/flowchart.png" alt="" /></span>
									<h4>Geometry Description</h4>
									<p>
										The physical model is shown in figure below. Since the data center contains many rack servers, we just simplify to investigate the airflow patterns as well as temperature distribution surrounding one server, which is defined as one space cell. In addition, since the space cell is created as symmetric geometry, the calculation is conducted in half of the whole space cell.
									</p>
									<span><img src="images/geometry.png" alt="" /></span>

									<h4>Inputs and Output</h4>
									<p>
										The detailed initialization parameters are shown in the table below. The outputs are the airflow velocity and temperature of each cell at the end time. In the end, a velocity plot of airflow distribution and temperature contour can be plotted. 
									</p>
									<h4>Benefits of parallelization</h4>
									<p>
										Since the problem is to solve the u (horizontal velocity), v (vertical velocity) and pressure of each cell within the domain of each time step, it will consume a huge amount of time if the mesh is fine enough so as to get convincing results. Parallelization of CFD problem could bring about significantly great speed up and still make sure the results are acceptable. An approach to parallelizing numerical algorithms for solving partial differential equations is to divide the underlying domain  into subdomains, and have each process treat one subdomain. By using MPI model to communicate, adjacent subdomains are able to exchange the necessary data. 
									</p>

									<h3>Challenges</h3>
									<p>
										The workload is highly computation bounded because we do not have too a large a model in terms of memory size but we need to do a large amount of computation and many iteraions before convergence for generation of each frame. I am not clear at present if divergent execution occurs much in our algorithm and whether we can apply vector intrinsics. That is definitely an option that we will consider because it will speedup the algorithm significantly if effectively used.
									</p>
									<p>
										The geometry model contains different types for different grid points and the computation is not even for different types of grid. So scheduling will be challenge for us to distribute the work evenly on workers.
									</p>
									<p>
										Also, the algorithm contains multiple phases that can be parallelized and each may have different characteristics. We need to explore various ways learned in class and find out the best way for particular scenarios, for example, use shared memory vs message passing. So this can be a general test of our understanding of various ideas in parallel computing without us being told which library or way we should apply.
									</p>

									<h3>Resources/Platform Choice</h3>
									<p>
										Our code should be able to run with different machines specs. To measure the performance, we plan to use Xeon Phi in Latedays cluster. We are starting from scratch by implementing a serial version of 2D solver of Data Center Air-conditioning system in C, but we do have a reference Matlab code implemented by Siliang in her other course perivously. Our algorithm will follow the pseudocode from the book Numerical Simulation. We plan to use MPI model to parallel the code, but we may also explore other possiblities for further speedup given time.
									</p>

									<h3>Goals and Deliverables</h3>
									<p>
										Our goal is to successfully complete a parallel version of the algorithm and study the airflow patterns and temperature distribution inside the data center with different supply velocity and direction so as to get a desirable Computer Room Air Conditioning System (CRAC) pre-design. We are going to benchmark performances of CRAC system with different initial inputs under different time steps before steady state. Moreover, we are going to compare our serial results, parallel results and results from commercial CFD software called ANSYS with the same inputs so as to evaluate the accuracy and performance of our programs.
									</p>
									<p>
										In the best case, we should be able to achieve faster performance than the commercial software. The reason for believing in the best case performance is that our implementation will be more specific to the CRAC problem and will benefit from many special optimizations to this specific problem, so we may be able to outperform the commercial software designed for general simulations.
									</p>
									<p>
										If we encounter unexpected difficulties, we should be able to at least have a faster parallel code than our own serial implementation. (for example if our serial code itself is slow or uses a different algorithm than the reference commercial software, then we may not be able to be faster than the commercial software with same input.)
									</p>
									<p>
										Extra goals: Since the current geometry is 2D grid with quadrilateral mesh, we could try to make our model more complex by creating 3D meshing as well as apply more general dynamic scheduling instead of some static case specific code.
									</p>
									<p>
										At the demo, we plan to show the simulation result generated ahead of time. If our code is fast enough, we will let user modifies a small input model and generate result and animation during the demo. We will also show our speedup vs our serial code as well as vs commercial software with different configurations in graphs. According to book Numerical Simulation which describes the speedup for a similar algorithm, a speedup similar to or better than the table below can be considered a good job.
									</p>

									<h3>Platform Choice</h3>
									<p>
										We will use Xeon Phi because our algorithm is computationally heavy and will benefit from high multi-core CPU performance. We will implement our algorithm in C for better performance and access to libraries like open MPI.
									</p>

									<h3>Schedule</h3>
									<p>
										10/31-11/06: Be familiar with algorithm, design the data structure and interfaces for the implementation of serial algorithm. Keep the design suitable for parallelization later. <br>
										11/07-11/13: Complete the serial algorithm.<br>
										11/14-11/20: Test and verify the correctness of the serial algorithm and start a simple parallel algorithm, complete checkpoint report.<br>
										11/21-11/27: Explore one or ways of parallelization and have some milestone speedup results and tagged code version.<br>
										11/28-12/4: Continue to improve the speedup and achieve the best speedup as we can.<br>
										11/5-12/11: Run multiple benchmarks and compare with serial and commercial software performance. Complete demo, poster and report.<br>
									</p>
								</article>

						</div>
					</div>
				</div>

			<!-- Footer -->
				<!-- <div id="footer-wrapper">
					<div id="footer" class="container">
						<header>
							<h2>Questions or comments? <strong>Get in touch:</strong></h2>
						</header>
						<div class="row">
							<div class="6u 12u(mobile)">
								<section>
									<form method="post" action="#">
										<div class="row 50%">
											<div class="6u 12u(mobile)">
												<input name="name" placeholder="Name" type="text" />
											</div>
											<div class="6u 12u(mobile)">
												<input name="email" placeholder="Email" type="text" />
											</div>
										</div>
										<div class="row 50%">
											<div class="12u">
												<textarea name="message" placeholder="Message"></textarea>
											</div>
										</div>
										<div class="row 50%">
											<div class="12u">
												<a href="#" class="form-button-submit button icon fa-envelope">Send Message</a>
											</div>
										</div>
									</form>
								</section>
							</div>
							<div class="6u 12u(mobile)">
								<section>
									<p>Erat lorem ipsum veroeros consequat magna tempus lorem ipsum consequat Phaselamet
									mollis tortor congue. Sed quis mauris sit amet magna accumsan tristique. Curabitur
									leo nibh, rutrum eu malesuada.</p>
									<div class="row">
										<div class="6u 12u(mobile)">
											<ul class="icons">
												<li class="icon fa-home">
													1234 Somewhere Road<br />
													Nashville, TN 00000<br />
													USA
												</li>
												<li class="icon fa-phone">
													(000) 000-0000
												</li>
												<li class="icon fa-envelope">
													<a href="#">info@untitled.tld</a>
												</li>
											</ul>
										</div>
										<div class="6u 12u(mobile)">
											<ul class="icons">
												<li class="icon fa-twitter">
													<a href="#">@untitled-tld</a>
												</li>
												<li class="icon fa-instagram">
													<a href="#">instagram.com/untitled-tld</a>
												</li>
												<li class="icon fa-dribbble">
													<a href="#">dribbble.com/untitled-tld</a>
												</li>
												<li class="icon fa-facebook">
													<a href="#">facebook.com/untitled-tld</a>
												</li>
											</ul>
										</div>
									</div>
								</section>
							</div>
						</div>
					</div>
					<div id="copyright" class="container">
						<ul class="links">
							<li>&copy; Untitled. All rights reserved.</li><li>Design: <a href="http://html5up.net">HTML5 UP</a></li>
						</ul>
					</div>
				</div> -->

		</div>

		<!-- Scripts -->
			<script src="assets/js/jquery.min.js"></script>
			<script src="assets/js/jquery.dropotron.min.js"></script>
			<script src="assets/js/skel.min.js"></script>
			<script src="assets/js/skel-viewport.min.js"></script>
			<script src="assets/js/util.js"></script>
			<!--[if lte IE 8]><script src="assets/js/ie/respond.min.js"></script><![endif]-->
			<script src="assets/js/main.js"></script>

	</body>
</html>